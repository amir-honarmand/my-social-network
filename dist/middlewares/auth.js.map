{"version":3,"file":"auth.js","sourceRoot":"","sources":["../../src/middlewares/auth.ts"],"names":[],"mappings":"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"}